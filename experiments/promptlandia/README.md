# Promptlandia

Stop guessing and start engineering your prompts! Promptlandia is a powerful web application that helps you analyze, refine, and improve your prompts using AI-powered feedback. Whether you're a seasoned prompt engineer or just getting started, this tool will help you get better results from your generative AI models.

![Promptlandia Demo](assets/promptlandia_short.gif)

## Key Features

*   **Prompt Improvement:** Submit an existing prompt and get an improved version generated by a powerful AI model.
*   **Prompt Health Checklist:** Evaluate your text prompts against [a comprehensive checklist of best practices](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/prompts/prompt-design-strategies#prompt_health_checklist) and receive detailed feedback on potential issues.
*   **Video Prompt Health Checklist:** Evaluate your video prompts against a checklist of best practices for video generation.
*   **Playground:** Experiment with different prompts and models in a simple and intuitive interface.
*   **Settings:** View the underlying prompts used by the application for full transparency.

## How to Use

1.  **Improve a Prompt:** Go to the 'Promptlandia' page. Enter your original prompt in the text boxes and describe the improvements you'd like to see. Click 'Improve Prompt' to get a revised, optimized version.
2.  **Check Prompt Health:** Go to the 'Checklist' page. Paste your prompt and click the 'Evaluate' button to get a detailed analysis of its quality [against proven best practices](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/prompts/prompt-design-strategies#prompt_health_checklist).
3.  **Check Video Prompt Health:** Go to the 'Video Checklist' page. Paste your prompt and click the 'Evaluate' button to get a detailed analysis of its quality against best practices for video generation.
4.  **Experiment:** Use the 'Playground' to freely experiment with different prompts and model settings.

## Running Locally

1.  **Create a `.env` file:** Use the `.env.dotenv` file as a template to create a `.env` file in the root of the project. This file should contain your GCP project information.

    ```bash
    cp .env.dotenv .env
    ```

2.  **Install dependencies and run the application:**

    ```bash
    uv sync
    source .venv/bin/activate
    mesop app.py
    ```

## Deployment

Create a service account (once)

```bash
export PROJECT_ID=$(gcloud info --format='value(config.project)')

export DESC="promptlandia"
export SA_NAME="sa-promptlandia"
export SA_ID=${SA_NAME}@${PROJECT_ID}.iam.gserviceaccount.com

# create a service account
gcloud iam service-accounts create $SA_NAME --description $DESC --display-name $SA_NAME

# assign vertex and cloud run roles
gcloud projects add-iam-policy-binding $PROJECT_ID --member="serviceAccount:${SA_ID}" --role "roles/aiplatform.user"
gcloud projects add-iam-policy-binding $PROJECT_ID --member="serviceAccount:${SA_ID}" --role "roles/run.invoker"
```

### Deploy / redeploy

You may choose to deploy this either unauthenticated or authenticated with [Cloud Run IAP](https://cloud.google.com/run/docs/securing/identity-aware-proxy-cloud-run).

#### Setup
```bash
export PROJECT_ID=$(gcloud info --format='value(config.project)')
# The SA_ID is the email address of the service account created in the previous step.
export SA_ID=sa-promptlandia@${PROJECT_ID}.iam.gserviceaccount.com
```


#### Using Cloud Run, unauthenticated
```bash
gcloud run deploy promptlandia --source . --service-account=$SA_ID --region us-central1 --set-env-vars PROJECT_ID=$(gcloud config get project),MODEL_ID=gemini-2.5-flash,LOCATION=us-central1 --allow-unauthenticated
```

#### Using Cloud Run IAP

```bash
gcloud alpha run deploy promptlandia --source . --iap --service-account=$SA_ID --region us-central1 --set-env-vars PROJECT_ID=$(gcloud config get project),MODEL_ID=gemini-2.5-flash,LOCATION=us-central1
```

#### Add IAP users/groups

Utilize the `gcloud alpha iap web add-iam-policy-binding ` to [manage user/group access for IAP](https://cloud.google.com/run/docs/securing/identity-aware-proxy-cloud-run#manage_user_or_group_access).

```bash
# group: Google Cloud Applied AI Engineering (mock email)
gcloud alpha iap web add-iam-policy-binding --member=group:cloud-aaie@google.com --role=roles/iap.httpsResourceAccessor --resource-type=cloud-run --region=us-central1 --service=promptlandia
```

## For Developers

If you're interested in contributing to the project, understanding the architecture, or learning how to add new tests, please see our [**Developer's Guide**](developers_guide.md).



# Disclaimer
This is not an officially supported Google product.